<!DOCTYPE html>

<html>

<head>
	
<!--

WebGL_example_05.html

Simple WebGL example: viewports in different canvases

J. Madeira - May 2015

-->
	
<title>WebGL example 05 &mdash; Several viewports</title>

<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">

<script type="text/javascript">

    var gl_01 = null; // WebGL context
    
    var gl_02 = null; // WebGL context
    
    var gl_arr = [gl_01, gl_02]


    function initWebGL(idx, rgba, canvas){
        try{
            
            // Create the WebGL context
			// Some browsers still need "experimental-webgl"
			
            gl_arr[idx] = canvas.getContext("webgl") || canvas.getContext("experimental-webgl");
			
			// DEFAULT: The viewport occupies the whole canvas
						
			// The viewport (R,G,B,A) background color: BLACK
		
			gl_arr[idx].clearColor(rgba[0], rgba[1], rgba[2], rgba[3]);  
			
			// Button events
			
			document.getElementById("red-button").onclick = function(){
				// RED is the new background color
				gl_arr[0].clearColor(1.0, 0.0, 0.0, 1.0);
				
				// Render the viewport
				render(0);  
			};
      
			document.getElementById("green-button").onclick = function(){
				// GREEN is the new background color
				gl_arr[0].clearColor(0.0, 1.0, 0.0, 1.0);
				
				// Render the viewport
				render(0);  
			};
      
			document.getElementById("blue-button").onclick = function(){
				// BLUE is the new background color
				gl_arr[0].clearColor(0.0, 0.0, 1.0, 1.0);
				
				// Render the viewport
				render(0);  
			};
      
			document.getElementById("white-button").onclick = function(){
				// WHITE is the new background color
				gl_arr[0].clearColor(1.0, 1.0, 1.0, 1.0);
				
				// Render the viewport
				render(0);  
			};
      
			document.getElementById("black-button").onclick = function(){
				// BLACK is the new background color
				gl_arr[0].clearColor(0.0, 0.0, 0.0, 1.0);
				
				// Render the viewport
				render(0);  
			};

			document.getElementById("yellow-button").onclick = function(){
				// BLACK is the new background color
				gl_arr[0].clearColor(1.0, 1.0, 0.0, 1.0);
				
				// Render the viewport
				render(0);  
			};
            //----------------------------
            document.getElementById("red-button2").onclick = function(){
				// RED is the new background color
				gl_arr[1].clearColor(1.0, 0.0, 0.0, 1.0);
				
				// Render the viewport
				render(1);  
			};
      
			document.getElementById("green-button2").onclick = function(){
				// GREEN is the new background color
				gl_arr[1].clearColor(0.0, 1.0, 0.0, 1.0);
				
				// Render the viewport
				render(1);  
			};
      
			document.getElementById("blue-button2").onclick = function(){
				// BLUE is the new background color
				gl_arr[1].clearColor(0.0, 0.0, 1.0, 1.0);
				
				// Render the viewport
				render(1);  
			};
      
			document.getElementById("white-button2").onclick = function(){
				// WHITE is the new background color
				gl_arr[1].clearColor(1.0, 1.0, 1.0, 1.0);
				
				// Render the viewport
				render(1);  
			};
      
			document.getElementById("black-button2").onclick = function(){
				// BLACK is the new background color
				gl_arr[1].clearColor(0.0, 0.0, 0.0, 1.0);
				
				// Render the viewport
				render(1);  
			};

			document.getElementById("yellow-button2").onclick = function(){
				// BLACK is the new background color
				gl_arr[1].clearColor(1.0, 1.0, 0.0, 1.0);
				
				// Render the viewport
				render(1);  
			};

            render(idx);


        }catch(e){
            if(!gl_arr[idx]){
                alert("Could not initialise WebGL, sorry!")
            }
        }
    }

    function render(idx){
        gl_arr[idx].clear(gl_arr[idx].COLOR_BUFFER_BIT)
    }

    function runWebGL() {
        var canvas_01 = document.getElementById("canvas-01");
        
        initWebGL(0, [1.0, 0.0, 0.0, 1.0], canvas_01);
        
        var canvas_02 = document.getElementById("canvas-02");
        
        initWebGL(1, [0.0, 1.0, 0.0, 1.0], canvas_02);

    }

    
    // FIRST GL Context
    
    // function initWebGL_01(canvas) {
    //     try {
	// 			// Create the WebGL context
	// 			// Some browsers still need "experimental-webgl"
			
	// 			gl_01 = canvas.getContext("webgl") || canvas.getContext("experimental-webgl");
			
	// 			// DEFAULT: The viewport occupies the whole canvas
			
	// 			// The viewport (R,G,B,A) background color: BLACK
		
	// 			gl_01.clearColor(0.0, 0.0, 0.0, 1.0);  
			
	// 			// Render the viewport
	// 			render_01(); 
    //     } catch (e) {
    //     }
    //     if (!gl_01) {
    //         alert("Could not initialise WebGL, sorry! :-(");
    //     }
    // }

    // function render_01() {
		
	// 	// Clearing with the background color
		
    //     gl_01.clear(gl_01.COLOR_BUFFER_BIT);
    // }

    // SECOND GL Context
  
    // function initWebGL_02(canvas) {
    //     try {
	// 			// Create the WebGL context
	// 			// Some browsers still need "experimental-webgl"
			
	// 			gl_02 = canvas.getContext("webgl") || canvas.getContext("experimental-webgl");
			
	// 			// DEFAULT: The viewport occupies the whole canvas
						
	// 			// The viewport (R,G,B,A) background color: RED
		
	// 			gl_02.clearColor(1.0, 0.0, 0.0, 1.0);  
			
	// 			// Render the viewport
	// 			render_02(); 
    //     } catch (e) {
    //     }
    //     if (!gl_02) {
    //         alert("Could not initialise WebGL, sorry! :-(");
    //     }
    // }

    // function render_02() {
		
	// 	// Clearing with the background color
		
    //     gl_02.clear(gl_02.COLOR_BUFFER_BIT);
    // }
    

</script>

</head>

<body onload="runWebGL();">

	<div style="text-align: center">
		
		<p>A 200 x 500 viewport!</p>
		
        <canvas id="canvas-01" style="border: none" width="500" height="200"></canvas>
        
        <p>Set the background color using the buttons:</p>
		
		<button id="red-button">Red</button>

		<button id="green-button">Green</button>

		<button id="blue-button">Blue</button>

		<button id="white-button">White</button>

		<button id="black-button">Black</button>

		<button id="yellow-button">Yellow</button>
        
        
		<p>Another 200 x 500 viewport!</p>
		
		<canvas id="canvas-02" style="border: none" width="500" height="200"></canvas>

        <p>Set the background color using the buttons:</p>
		
		<button id="red-button2">Red</button>

		<button id="green-button2">Green</button>

		<button id="blue-button2">Blue</button>

		<button id="white-button2">White</button>

		<button id="black-button2">Black</button>

		<button id="yellow-button2">Yellow</button>

	</div>

</body>

</html>
